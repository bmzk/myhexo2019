!function(e){var t={data:{chinaData:{}},"int":function(){this.chinaStockData(),this.hkStockData(),this.globalStockData(),this.forexStockData(),this.futureStockData(),this.headTime(),this.eventFn()},dataFetch:function(t){e.ajax({type:"get",url:t.url||"url",data:{},dataType:"jsonp",jsonp:"callback",success:t.success||function(){},error:t.error||function(){}})},chinaStockData:function(){var t=this,a={cData:[]};return t.dataFetch({type:"get",url:"//api.money.126.net/data/feed/0000001,1399300,1399001",success:function(t){var o=t;o["0000001"].hrefUrl="http://quotes.money.163.com/0000001.html",o["0000001"].imgUrl="https://img1.money.126.net/chart/hs/time/210x140/0000001.png?"+(new Date).getTime(),o[1399001].hrefUrl="http://quotes.money.163.com/1399001.html",o[1399001].imgUrl="https://img1.money.126.net/chart/hs/time/210x140/1399001.png?"+(new Date).getTime(),o[1399300].hrefUrl="http://quotes.money.163.com/1399300.html",o[1399300].imgUrl="https://img1.money.126.net/chart/hs/time/210x140/1399300.png?"+(new Date).getTime(),a.cData.push(o["0000001"]),a.cData.push(o[1399001]),a.cData.push(o[1399300]);var s=Tools.template("cn_template",a),r=Tools.template("no_template",{});if(o){e("#cn_table").html(s);var l=e("#cn_table tr").length;e("#cn_table tr").eq(l-1).addClass("no-bb")}else e("#cn_table").html(r);e(".js-hq-detail-cn").eq(0).addClass("no-bb"),e(".js-hq-detail-cn").on("mouseover",function(){e(".js-hq-detail-cn").removeClass("no-bb"),e(this).addClass("no-bb"),e("#cn_table").find("tr").eq(4).addClass("no-bb"),e(".js-hq-img-cn").addClass("netease_hide"),e(this).next().removeClass("netease_hide")}),e("#cn_table").find("tr").eq(4).addClass("no-bb")},error:function(e){console.log(e)}})},hkStockData:function(){var t=this,a={hkDatas:[]};return t.dataFetch({type:"get",url:"//api.money.126.net/data/feed/hkHSI,hkHSCEI,hkHSCCI",success:function(t){var o=t;o.hkHSI.hrefUrl="http://quotes.money.163.com/hkstock/HSI.html",o.hkHSI.imgUrl="https://img1.money.126.net/chart/hk/time/210x140/HSI.png?"+(new Date).getTime(),o.hkHSCCI.hrefUrl="http://quotes.money.163.com/hkstock/HSCCI.html",o.hkHSCCI.imgUrl="https://img1.money.126.net/chart/hk/time/210x140/HSCCI.png?"+(new Date).getTime(),o.hkHSCEI.name="\u56fd\u4f01\u6307\u6570",o.hkHSCEI.hrefUrl="http://quotes.money.163.com/hkstock/HSCEI.html",o.hkHSCEI.imgUrl="https://img1.money.126.net/chart/hk/time/210x140/HSCEI.png?"+(new Date).getTime(),a.hkDatas.push(o.hkHSI),a.hkDatas.push(o.hkHSCCI),a.hkDatas.push(o.hkHSCEI);var s=Tools.template("hk_template",a),r=Tools.template("no_template",{});if(a.hkDatas){e("#hk_table").html(s);var l=e("#hk_table tr").length;e("#hk_table tr").eq(l-1).addClass("no-bb")}else e("#hk_table").html(r);e(".js-hq-detail-hk").eq(0).addClass("no-bb"),e(".js-hq-detail-hk").on("mouseover",function(){e(".js-hq-detail-hk").removeClass("no-bb"),e("#hk_table").find("tr").eq(4).addClass("no-bb"),e(".js-hq-img-hk").addClass("netease_hide"),e(this).addClass("no-bb"),e(this).next().removeClass("netease_hide")}),e("#hk_table").find("tr").eq(4).addClass("no-bb")},error:function(e){console.log(e)}})},globalStockData:function(){var t=this,a={globalDatas:[]};return t.dataFetch({type:"get",url:"//quotes.money.163.com/gi/service/girank.php?host=/gi/service/girank.php&page=0&query=SYMBOL:_in_W00001,W00002,W00003,W00032,W00031,W00004,W00040,W00026",success:function(t){for(var o=t.list,s=0;s<o.length;s++)switch(o[s].SYMBOL){case"W00001":o[s].NAME="\u9053\u743c\u65af",o[s].hrefUrl="http://quotes.money.163.com/usstock/DOWJONES.html";break;case"W00002":o[s].NAME="\u7eb3\u65af\u8fbe\u514b",o[s].hrefUrl="http://quotes.money.163.com/usstock/NASDAQ.html";break;case"W00003":o[s].hrefUrl="http://quotes.money.163.com/usstock/SP500.html";break;case"W00032":o[s].NAME="\u5bcc\u65f6100",o[s].hrefUrl="http://quotes.money.163.com/gi/home/detail/W00032.html";break;case"W00031":o[s].NAME="\u5fb7\u56fdDAX",o[s].hrefUrl="http://quotes.money.163.com/gi/home/detail/W00031.html";break;case"W00004":o[s].NAME="\u65e5\u7ecf225",o[s].hrefUrl="http://quotes.money.163.com/gi/home/detail/W00004.html";break;case"W00040":o[s].NAME="\u53f0\u6e7e\u52a0\u6743",o[s].hrefUrl="http://quotes.money.163.com/gi/home/detail/W00040.html";break;case"W00026":o[s].NAME="\u65b0\u52a0\u5761",o[s].hrefUrl="http://quotes.money.163.com/gi/home/detail/W00026.html"}a.globalDatas=o;var r=Tools.template("global_template",a),l=Tools.template("no_template",{});if(a.globalDatas){e("#global_table").html(r);var h=e("#global_table tr").length;e("#global_table tr").eq(h-1).addClass("no-bb")}else e("#global_table").html(l)},error:function(e){console.log(e)}})},forexStockData:function(){var t=this,a={forexDatas:[]};return e("forex_table_table").find("tr:last").addClass("no-bb"),t.dataFetch({type:"get",url:"//quotes.money.163.com/fx/service/fxrank.php?host=/fx/service/fxrank.php&page=0&query=SYMBOL:_in_GBPCNY,EURCNY,USDCNY,USDJPY,USDEUR,USDGBP,HKDCNY",success:function(t){for(var o=t.list,s=0;s<o.length;s++)switch(o[s].SYMBOL){case"EURCNY":o[s].NAME="\u6b27\u5143/\u4eba\u6c11\u5e01",o[s].hrefUrl="http://quotes.money.163.com/forex/hq/EURCNY.html#3c27";break;case"GBPCNY":o[s].NAME="\u82f1\u9551/\u4eba\u6c11\u5e01",o[s].hrefUrl="http://quotes.money.163.com/forex/hq/GBPCNY.html";break;case"USDCNY":o[s].NAME="\u7f8e\u5143/\u4eba\u6c11\u5e01",o[s].hrefUrl="http://quotes.money.163.com/forex/hq/USDCNY.html";break;case"USDEUR":o[s].NAME="\u6b27\u5143/\u7f8e\u5143",o[s].hrefUrl="http://quotes.money.163.com/forex/hq/USDEUR.html";break;case"USDGBP":o[s].NAME="\u82f1\u9551/\u7f8e\u5143",o[s].hrefUrl="http://quotes.money.163.com/forex/hq/USDGBP.html";break;case"HKDCNY.":o[s].NAME="\u6e2f\u5143/\u4eba\u6c11\u5e01",o[s].hrefUrl="http://quotes.money.163.com/forex/hq/HKDCNY.html";break;case"USDJPY":o[s].NAME="\u7f8e\u5143/\u65e5\u5143",o[s].hrefUrl="http://quotes.money.163.com/forex/hq/USDJPY.html"}a.forexDatas=o;var r=Tools.template("forex_template",a),l=Tools.template("no_template",{});if(a.forexDatas){e("#forex_table").html(r);var h=e("#forex_table tr").length;e("#forex_table tr").eq(h-1).addClass("no-bb")}else e("#forex_table").html(l)},error:function(e){console.log(e)}})},futureStockData:function(){var t=this,a={futureDatas:[]};return t.dataFetch({type:"get",url:"//quotes.money.163.com/fu/service/furank.php?host=/fu/service/furank.php&page=0&query=EXCHANGE:FG&fields=no,NAME,PRICE,UPDOWN,PERCENT,TIME&sort=UPDOWN&order=desc&count=16&type=FG",success:function(t){a.futureDatas=t.list;var o=Tools.template("future_template",a),s=Tools.template("no_template",{});if(a.futureDatas){e("#future_table").html(o);var r=e("#forex_table tr").length;e("#forex_table tr").eq(r-1).addClass("no-bb")}else e("#future_table").html(s)},error:function(e){console.log(e)}})},eventFn:function(){e(".hq-tablist a").on("mouseover",function(){e(".js-table li").addClass("netease_hide"),e(".hq-tablist a").removeClass("cur"),e(this).addClass("cur"),e(".js-table li").eq(e(this).index()).removeClass("netease_hide")})},headTime:function(){var t=this,a="";return t.dataFetch({type:"get",url:"//api.money.126.net/data/feed/MARKET_HS",success:function(t){function o(e){var t="";switch(e){case 0:t="\u661f\u671f\u5929";break;case 1:t="\u661f\u671f\u4e00";break;case 2:t="\u661f\u671f\u4e8c";break;case 3:t="\u661f\u671f\u4e09";break;case 4:t="\u661f\u671f\u56db";break;case 5:t="\u661f\u671f\u4e94";break;case 6:t="\u661f\u671f\u516d"}return t}a=t.MARKET_HS;var s=new Date,r=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,l=s.getDate()+1<10?"0"+s.getDate():s.getDate(),h=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),n=s.getHours()<10?"0"+s.getHours():s.getHours(),c=s.getFullYear()+"\u5e74"+r+"\u6708"+l+"\u65e5 "+n+":"+h+" "+o(s.getDay());e(".js-A-status").html(a.status),e(".js-A-time").html(c)},error:function(e){console.log(e)}})}};t["int"]()}(window.jQuery);
